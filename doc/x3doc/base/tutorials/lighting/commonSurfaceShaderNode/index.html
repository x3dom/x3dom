<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>X3DOM Documentation: Tutorials</title>    
    <link type="text/css" rel="stylesheet" href="../../../static/styles/x3dom-docs.css">
    <script src="../../../static/scripts/prettify/run_prettify.js"></script>
</head>

<body>

<div id="mainContainerDiv">

<div id="header-decoration">
    official x3<strong>dom</strong> documentation
</div>
<div id="header-navbar">
    <a href="http://x3dom.org">x3dom.org</a>
    >
    <a href="../../../index.html">documentation</a>    
    >
    <a href="../../index.html">Tutorials</a>
	>
    <a href="#">commonSurfaceShader</a>
</div>
<div id="main">

    <section>	
        
        <div>
            <div class="simpleButton" style="float:left;"><a href="../gamma/index.html" style="float:right;">&#8678; Previous Section</a></div>
            <div class="simpleButton" style="float:right;"><a href="../customShader/index.html" style="float:right;">Next Section &#8680;</a></div>
            <div style="clear:both;"></div>
        </div>
        <div style="text-align:center;">
            <h1>CommonSurfaceShader Node</h1>
        </div>            
        <br>
		
        <p>
		CommonSurfaceShader is a alternative way to specify materials. It can be regarded as a replacement for the Material node with some modern features like normal mapping.
        </p>
        
        <p>
        Formally, it is a Shader node (and it goes into the shaders-slot of an appearance), but it does not contain explicit shader code and exposes only a declarative interface, similar to that of the Material node.      
        </p>
        
        <p>
        In this tutorial we'll create simple box which use the CommonSurfaceShader node to demonstrate the different available texture slots.
        </p>
        
        <pre class="prettyprint"><code class="language-html">
            &lt;Shape&gt;
                &lt;Appearance&gt;
                    &lt;CommonSurfaceShader diffuseFacor='' specularFactor='' shininessFactor=''&gt;
                        &lt;ImageTexture containerField='diffuseTexture' url='diffuseMap.jpg'&gt;&lt;/ImageTexture&gt;
                        &lt;ImageTexture containerField='normalTexture' url='normalMap.jpg'&gt;&lt;/ImageTexture&gt;
                        &lt;ImageTexture containerField='specularTexture' url='specularMap.jpg'&gt;&lt;/ImageTexture&gt;
                        &lt;ImageTexture containerField='shininessTexture' url='shininessMap.jpg'&gt;&lt;/ImageTexture&gt;
                    &lt;/CommonSurfaceShader&gt;
                &lt;/Appearance&gt;
                &lt;Box&gt;&lt;/Box&gt;
            &lt;/Shape&gt;
		</code></pre>
        
        <p style='color:red;'>
        TODO description
        </p>
		    
        <p>
        You may wonder how tangents and binormals are specified for the normal mapping. Currently, there are basically two ways to do this in InstantReality. The first is the simplest: just don't specify them at all (as done in the example). In this case the shader will try to derive them from the texture coordinates. However, this is not the best solution in term of quality and speed. Usually it's better to supply them explicitly via custom vertex attributes. Just augment your geometry with FloatVertexAttribute nodes and refer to these data by setting the Name attribute to 'tangent' and 'binormal'.
        </p>
        
        <pre class="prettyprint"><code class="language-html">
            &lt;FloatVertexAttribute name='tangent' numComponents='3' value='...'&gt;  &lt;/FloatVertexAttribute&gt;
            &lt;FloatVertexAttribute name='binormal' numComponents='3' value='...'&gt;  &lt;/FloatVertexAttribute&gt;
		</code></pre>
        
        <div style="text-align:center;">
            <div class="docuFigureContainer">			
                <img class="docuFigure" src='screenshot.png'>
                <div class="docuCaption">Figure 1: The final CommonSurfaceShader sample scene.</div>
            </div>
        </div>
            
        <p>               
        <a href="#">Back to page top &#10548;</a>
        </p>    
        
        <div class="contentBox">                        
            <h2>Get this X3DOM example:</h2>
            <ul>
                <li><a href="example.html"><img src="../../liveDemo.png">Display example HTML file</a></li>                
                <li><a href="javascript:window.location='view-source:' + window.location.href.replace('index.html', 'example.html');"><img src="../../source.png">View example page source</a></li>                
                <li><a href="HelloX3DOM.zip"><img src="../../download.png">Download full example (.zip archive)</a></li>
            </ul>      
            <br>
            
            <h2>Read more about the X3DOM nodes used in this tutorial:</h2>
            <ul>
                <li><a href="../../../author/Shape/Appearance.html">Appearance</a></li>
                <li><a href="../../../author/Geometry3D/Box.html">Plane</a></li>
                <li><a href="../../../author/Shaders/CommonSurfaceShader.html">CommonSurfaceShader</a></li>
                <li><a href="../../../author/Shaders/FloatVertexAttribute.html">FloatVertexAttribute</a></li>
                <li><a href="../../../author/Texturing/ImageTexture.html">ImageTexture</a></li>                
				<li><a href="../../../author/Shape/Shape.html">Shape</a></li>				
            </ul>
        </div>

    </section>

</div>

</div>

</body>
</html>
